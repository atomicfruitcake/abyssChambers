#include <stdio.h>
#include "object.h"
#include "toggle.h"

typedef struct object {
   int          (*condition)(struct object *);
   const char    *description;
   const char   **tags;
   struct object *location;
   struct object *destination;
   struct object *prospect;
   const char    *details;
   const char    *contents;
   const char    *textGo;
   int            weight;
   int            capacity;
   int            health;
   int            attack;
   const char  *(*open)(struct object *);
   const char  *(*close)(struct object *);
   const char  *(*lock)(struct object *);
   const char  *(*unlock)(struct object *);
   int            lit;
} OBJECT;

extern OBJECT objs[];

- field
     description "an open field"
     tags        "field"
     details     "The field is a nice and quiet place under a clear blue sky.\n A royal guard is protecting the entrance to the cave, I wonder what's in there"

- cave
     description "a little cave"
     tags        "cave"
     details     "The cave is just a cold, damp, rocky chamber.\n"

- copse
     description "a small wooded copse"
     tags        "copse"
     details     "A small copse surrounded by shrubs. The remains of a fallen knight lay on the floor\n"

- silver
     description "a silver coin"
     tags        "silver", "coin", "silver coin"
     location    field
     details     "The coin has an eagle on the obverse.\n"
     weight      1

- gold
     description "a gold coin"
     tags        "gold", "coin", "gold coin"
     location    openBox
     details     "The shiny coin seems to be a rare and priceless artefact.\n"
     weight      1

- sword
     description "a basic sword"
     tags        "sword", "basic sword"
     location    copse
     details     "A simple sword for protection.\n"
     weight      1
     attack      5

- axe
     description "a battle axe"
     tags        "axe", "battle axe"
     location    tortureChamber
     details     "A axe designed for combat. There is dried blood on the blade\n"
     weight      3
     attack      8

- player
     description "yourself"
     tags        "yourself"
     location    catacombsWest
     details     "You would need a mirror to look at yourself.\n"
     contents    "You have"
     health      100
     capacity    20

- guard
     description "a royal guard"
     tags        "guard", "royal guard"
     location    field
     details     "The guard is protecting the entrance to the cave, I wonder why?\n"
     contents    "He has"
     health      10
     capacity    20
     attack      2

- skeletonGuard
     description "a necromanced skeleton guard"
     tags        "skeleton", "guard", "skeleton guard"
     location    chamber
     details     "The skeleton is blocking the way through the chamber.\n There must be a necromancer nearby"
     contents    "He has"
     health      15
     capacity    20
     attack      10

- evilWitch
     description "An evil witch guarding the cauldron. She looks frail, I reckon she'll go down with one swing of an axe. Don't let her hit you!"
     tags        "witch", "evil witch"
     location    witchesLair
     details     "The witch is guarding the cauldron. She looks dangerous\n"
     contents    "She has"
     health      8
     capacity    20
     attack      50

- demonWarden
     description "The warden has turned into a demon. It's feasting on a body in the corner and hasn't noticed you"
     tags        "warden", "demon warden"
     location    wardensOffice
     details     "The demon looks dazed. It has giant claws and teeth ready to tear flesh\n"
     contents    "It has"
     health      20
     capacity    20
     attack      60

- exitCopse
     description "a field to the south"
     tags        "south", "exit", "leave"
     location    copse
     destination field
     details     "The copse has a field next to the south\n"
     textGo      "You exit the copse to the field\n"
     open        isAlreadyOpen   

- intoCopse
     description "a small copse to the north"
     tags        "north", "entrance"
     location    field
     destination copse
     details     "The field has a small copse on one side\n"
     textGo      "You walk across the field to the copse\n"
     open        isAlreadyOpen     

- intoCave
     condition   { return guard->health <= 0 || silver->location == guard; }
     description "a cave entrance to the east"
     tags        "east", "entrance"
     location    field
     destination cave
     details     "The entrance is just a narrow opening in a small outcrop.\n"
     textGo      "You walk into the cave.\n"
     open        isAlreadyOpen

- intoCaveBlocked
     condition   { return guard->health > 0 && silver->location != guard; }
     description "a large cave entrance to the east"
     tags        "east", "entrance"
     location    field
     prospect    cave
     details     "The entrance looks well worn, people have used this to get somewhere.\n"
     textGo      "The royal guard stops you from walking into the cave. Maybe I can bribe him, or use a blade\n"
     open        isAlreadyOpen

- exitCave
     description "a way out to the west"
     tags        "west", "out"
     location    cave
     destination field
     details     "Sunlight pours in through the entrance in the cave's wall.\n"
     textGo      "You walk out of the cave.\n"
     open        isAlreadyOpen

- wallField
     description "a thick, dense forest all around"
     tags        "west", "north", "south", "forest"
     location    field
     details     "The field is surrounded by trees and undergrowth.\n"
     textGo      "Dense forest is blocking the way.\n"

- wallCave
     description "solid rock all around"
     tags        "east", "north", "rock"
     location    cave
     details     "Carved in stone is a secret password 'abccb'.\n"
     textGo      "Solid rock is blocking the way.\n"

- backroom
     description "a manmade backroom built into the cave"
     tags        "backroom"
     details     "The room is dusty and messy. There is mysterious writing on the walls\n"

- wallBackroom
     description "solid rock all around"
     tags        "east", "west", "south", "rock"
     location    backroom
     details     "The rock walls are cold and damp. There is mysterious writing scribbled on the walls\n"
     textGo      "Solid rock is blocking the way.\n"

- passageway
     description "a narrow passageway. It's cramped in here"
     tags        "passageway"
     details     "The passageway is narrow and dimly lit.\n"

- intoPassageway
     description "a narrow passageway to the west"
     tags        "passageway"
     location    backroom
     destination passageway
     details     "The backroom has a small passageway\n"
     textGo      "You walk into the narrow passageway.\n OH NO! The walls have caved in behind you.\n"
     open        isAlreadyOpen    

- wallPassageway
     description "damp walls"
     tags        "north", "south", "rock"
     location    passageway
     details     "The rock walls are cold and damp.\n"
     textGo      "Solid rock is blocking the way.\n"

- wallChamber
     description "cold stone walls covered in blood"
     tags        "east"
     location    chamber
     details     "The stone walls are splattered with blood.\n"
     textGo      "Solid stone walls are blocking the way\n"

- chamber
     description "a large chamber, the room smells of death and decay"
     tags        "chamber"
     details     "The chamber is eerily quiet. Is that blood on the floor and walls?\n"

- intoChamber
     description "an opening to a large gothic chamber to the east"
     tags        "east", "entrance", "chamber", "enter"
     location    passageway
     destination chamber
     details     "The passageway opens up to a large gothic chamber\n"
     textGo      "You climb into the large gothic chamber. There is an uneasy presence in the air\n"
     open        isAlreadyOpen     

- exitChamber
     description "a small passageway to the east"
     tags        "east", "exit", "leave"
     location    chamber
     destination passageway
     details     "There is a narrow passageway at the entrance to the chamber\n"
     textGo      "You exit chamber into the narrow passageway\n"
     open        isAlreadyOpen   

- chamberStaircase
     description "a staircase to the north side of the chamber"
     tags        "chamberStaircase"
     details     "The staircase leads up out of the chamber \n"

- intoChamberStaircase
     condition   { return skeletonGuard->health <= 0; }
     description "a old staircase leading downwards to the north"
     tags        "north", "staircase", "chamberStaircase", "old staircase"
     location    chamber
     destination chamberStaircase
     details     "The staircase leads deeper down\n"
     textGo      "You walk into the staircase to the north of the chamber\n"
     open        isAlreadyOpen  

- intoChamberStaircaseBlocked
     condition   { return skeletonGuard->health > 0; }
     description "a old staircase leading downwards to the north"
     tags        "north", "staircase", "chamberStaircase"
     location    chamber
     prospect    chamberStaircase
     details     "The staircase leads deeper down\n"
     textGo      "You cannot get passed the skeleton guard\n"
     open        isAlreadyOpen  

- exitChamberStaircase
     description "a large chamber at the top of the staircase to the south"
     tags        "south", "chamber"
     location    chamberStaircase
     destination chamber
     details     "There is large chamber at the top of the staircase\n"
     textGo      "You climb the staircase and go to the chamber\n"
     open        isAlreadyOpen 

- centralVaults
     description "dark and dingy vaults. You can barely see a thing"
     tags        "vaults", "centralVaults"
     details     "The bottom of the staircase leads to the vaults\n"

- intoCentralVaults
     description "an opening to some vaults at the bottom of the staircase to the east"
     tags        "east", "vaults", "chamberStaircase"
     location    chamberStaircase
     destination centralVaults
     details     "The staircase leads deeper down\n"
     textGo      "You walk into the staircase\n"
     open        isAlreadyOpen  

- exitCentralVaultsStaircase
     description "a staircase leading back the the chamber to the west"
     tags        "west", "staircase", "chamberStaircase"
     location    centralVaults
     prospect    chamberStaircase
     details     "The staircase leads back to the chamber\n"
     textGo      "You go to the chamber staircase\n"
     open        isAlreadyOpen  

- witchesLair
     description "the evil witches lair. \nThere are potions and spellbooks everywhere\n"
     tags        "witches lair", "lair"
     details     "There is a bubbling cauldron over a FIRE protected by an evil witch \\n"

- openDoorToWitchesLair
     description "a rusty metal door to the north. You hear cackling from inside"
     tags        "north", "door", "doorway"
     destination witchesLair
     details     "The door is open.\n"
     textGo      "You walk through the door into the witches lair.\n"
     open        isAlreadyOpen
     close       toggleWitchesLairDoor

- closedDoorToWitchesLair
     description "a rusty metal door to the north. It's closed. There are mystical drawings around the door"
     tags        "north", "door", "doorway", "witches door"
     location    centralVaults
     prospect    witchesLair
     details     "The door is closed.\n"
     textGo      "The door is closed.\n"
     open        toggleWitchesLairDoor
     close       isAlreadyClosed

- openDoorToCentralVaults
     description "a rusty metal door to the south leading to the central vaults. It's open"
     tags        "south", "door", "doorway"
     destination centralVaults
     details     "The door is open.\n"
     textGo      "You walk through the rusty metal door to the vaults\n"
     open        isAlreadyOpen
     close       toggleWitchesLairDoor

- closedDoorToCentralVaults
     description "an ornate wooden door to the west leading to the chamber anteroom. It's open"
     tags        "west", "door", "doorway"
     location    witchesLair
     prospect    centralVaults
     details     "The door is closed.\n"
     textGo      "The door is closed.\n"
     open        toggleWitchesLairDoor
     close       isAlreadyClosed

- tortureChamber
     description "a small chamber filled with torture equipment"
     tags        "torture chamber", "centralVaults"
     details     "The bottom of the staircase leads to the vaults\n"

- intoTortureChamber
     description "an archway leading to the torture chamber to the south"
     tags        "south", "chamber", "tortureChamber"
     location    centralVaults
     destination tortureChamber
     details     "The torture chamber is filled with bloody torture tools\n"
     textGo      "You head into the torture chamber\n"
     open        isAlreadyOpen  

- exitTortureChamber
     description "an archway leading to the central vaults to the north"
     tags        "north", "vaults", "central vaults"
     location    tortureChamber
     destination centralVaults
     details     "The archway leads out of the torture chamber back to the vaults\n"
     textGo      "You go to the central vaults\n"
     open        isAlreadyOpen  

- deepCentralVaults
     description "a deeper and darker section of the central vaults"
     tags        "torture chamber", "centralVaults"
     details     "The bottom of the staircase leads to the vaults\n"

- intoDeepCentralVaults
     condition   { return torch -> lit == 0; }
     description "a deeper section of the central vaults to the east"
     tags        "east", "deeper", "deep"
     location    centralVaults
     destination deepCentralVaults
     details     "The vaults are pitch black\n"
     textGo      "You head into the deeper section of the vaults\n"
     open        isAlreadyOpen  

- intoDeepCentralVaultsBlocked
     condition   { return torch->lit == 1; }
     description "a deeper section of the central vaults to the east"
     tags        "east", "deeper", "deep"
     location    centralVaults
     prospect    deepCentralVaults
     details     "The vaults are pitch black\n"
     textGo      "it's too dark to go any further without a light source\n"
     open        isAlreadyOpen  

- exitDeepCentralVaults
     description "the vaults get brighter to the west"
     tags        "west", "vaults", "central vaults"
     location    deepCentralVaults
     prospect    centralVaults
     details     "The vaults get lighter east heading to the staircase\n"
     textGo      "You go to the central vaults\n"
     open        isAlreadyOpen  

- bodyPit
     description "a large pit of rotting corpses"
     tags        "body pit", "pit"
     details     "The bodies appear to have been tortured ritually. Who would do such a thing?\n"

- intoBodyPit
     description "a vile stench is coming from the north"
     tags        "north", "pit", "body pit"
     location    deepCentralVaults
     destination bodyPit
     details     "The place reeks of rotting corpses.\n"
     textGo      "You head north following the wretched stench\n"
     open        isAlreadyOpen  

- exitBodyPit
     description "the deep vaults are to the south"
     tags        "south", "vaults", "deep"
     location    bodyPit
     destination deepCentralVaults
     details     "The dark vaults are south of here\n"
     textGo      "You go to the deep vaults \n"
     open        isAlreadyOpen  

- ladderRoom
     description "A ladder between the vaults and the cathedral"
     tags        "ladder"
     details     "The bodies appear to have been tortured ritually. Who would do such a thing?\n"

- intoladderRoom
     description "a ladder leading even deeper to the east"
     tags        "east", "ladder"
     location    deepCentralVaults
     destination ladderRoom
     details     "The ladder goes down deeper into the earth\n"
     textGo      "You head east and start climbing down the ladder\n"
     open        isAlreadyOpen  

- exitladderRoomVaults
     description "the deep vaults at the top of the ladder on the west side"
     tags        "west", "vaults", "up"
     location    ladderRoom
     destination deepCentralVaults
     details     "The ladder is creeking as you use it"
     textGo      "You climb the ladder into the vaults\n"
     open        isAlreadyOpen 

- catacombsEast
     description "A web of deep tunnels filled with resting places for the dead"
     tags        "catacombsEast"
     details     "The is space for more bodies here. Can I hear footsteps?\n"

- intoCatacombsEast
     description "an ancient web of catacombs to the east"
     tags        "east", "catacombsEast"
     location    ladderRoom
     destination catacombsEast
     details     "The ladder leads to the catacombs\n"
     textGo      "You head east and enter the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsEastLadder
     description "the deep vaults at the top of the ladder on the west side"
     tags        "west", "ladder"
     location    catacombsEast
     destination ladderRoom
     details     "The ladder used to connect the vaults to the catacombs"
     textGo      "You start climbing the ladder leading to the vaults\n"
     open        isAlreadyOpen

- catacombsNorthEast
     description "A web of deep tunnels filled with resting places for the dead"
     tags        "catacombsNorthEast"
     details     "The is space for more bodies here. There is something else in here.\n"

- intoCatacombsNorthEast
     description "more catacombs to the north"
     tags        "north", "catacombs north"
     location    catacombsEast
     destination catacombsNorthEast
     details     "The catacombs extend to the north\n"
     textGo      "You head north through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsNorthEastToEast
     description "more catacombs to the south"
     tags        "south", "catacombs south"
     location    catacombsNorthEast
     destination catacombsEast
     details     "The catacombs extend to the south"
     textGo      "You head south through the catacombs\n"
     open        isAlreadyOpen  

- catacombsSouthEast
     description "A web of deep tunnels filled with resting places for the dead"
     tags        "catacombsSouthEast"
     details     "The is space for more bodies here. There is something else in here.\n"

- intoCatacombsSouthEast
     description "more catacombs to the south"
     tags        "north", "catacombs south"
     location    catacombsEast
     destination catacombsSouthEast
     details     "The catacombs extend to the south\n"
     textGo      "You head south through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsSouthEastToEast
     description "more catacombs to the south"
     tags        "south", "catacombs south"
     location    catacombsSouthEast
     destination catacombsEast
     details     "The catacombs extend to the north"
     textGo      "You head north through the catacombs\n"
     open        isAlreadyOpen  

- catacombsCentral
     description "A web of deep tunnels filled with resting places for the dead"
     tags        "catacombsCentral"
     details     "The is space for more bodies here. There is something else in here.\n"

- intoCatacombsCentralFromEast
     description "more catacombs to the east"
     tags        "east", "catacombs east"
     location    catacombsEast
     destination catacombsCentral
     details     "The catacombs extend to the east\n"
     textGo      "You head east through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsCentralToEast
     description "more catacombs to the east"
     tags        "east", "catacombs east"
     location    catacombsCentral
     destination catacombsEast
     details     "The catacombs extend to the east"
     textGo      "You head east through the catacombs\n"
     open        isAlreadyOpen  

- catacombsNorth
     description "A web of deep tunnels filled with resting places for the dead"
     tags        "catacombsNorth"
     details     "The is space for more bodies here. There is an uneasy presence.\n"

- intoCatacombsNorthFromNorthEast
     description "more catacombs to the east"
     tags        "east", "catacombs east"
     location    catacombsNorthEast
     destination catacombsNorth
     details     "The catacombs extend to the east\n"
     textGo      "You head east through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsNorthEastToNorth
     description "more catacombs to the west"
     tags        "west", "catacombs west"
     location    catacombsNorth
     destination catacombsNorthEast
     details     "The catacombs extend to the west"
     textGo      "You head west through the catacombs\n"
     open        isAlreadyOpen  

- intoCatacombsCentralFromNorth
     description "more catacombs to the south"
     tags        "south", "catacombs sotuh"
     location    catacombsNorth
     destination catacombsCentral
     details     "The catacombs extend to the south\n"
     textGo      "You head east through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsNorthToNorthEast
     description "more catacombs to the north"
     tags        "north", "catacombs north"
     location    catacombsNorth
     destination catacombsNorthEast
     details     "The catacombs extend to the north"
     textGo      "You head north through the catacombs\n"
     open        isAlreadyOpen  

- catacombsSouth
     description "A web of deep tunnels filled with resting places for the dead"
     tags        "catacombsSouth"
     details     "The is space for more bodies here. There is an uneasy presence.\n"

- intoCatacombsSouthFromSouthEast
     description "more catacombs to the east"
     tags        "east", "catacombs east"
     location    catacombsSouthEast
     destination catacombsSouth
     details     "The catacombs extend to the east\n"
     textGo      "You head east through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsSouthToSouthEast
     description "more catacombs to the west"
     tags        "west", "catacombs west"
     location    catacombsSouth
     destination catacombsSouthEast
     details     "The catacombs extend to the west"
     textGo      "You head west through the catacombs\n"
     open        isAlreadyOpen  

- intoCatacombsCentralFromSouth
     description "more catacombs to the north"
     tags        "north", "catacombs north"
     location    catacombsSouth
     destination catacombsCentral
     details     "The catacombs extend to the north\n"
     textGo      "You head north through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsSouthEastFromSouth
     description "more catacombs to the west"
     tags        "west", "catacombs west"
     location    catacombsSouth
     destination catacombsSouthEast
     details     "The catacombs extend to the west"
     textGo      "You head west through the catacombs\n"
     open        isAlreadyOpen  

- catacombsSouthWest
     description "A web of deep tunnels filled with resting places for the dead"
     tags        "catacombsSouthWest"
     details     "The is space for more bodies here. Is something following me?.\n"

- intoCatacombsSouthWestFromSouth
     description "more catacombs to the west"
     tags        "west", "catacombs west"
     location    catacombsSouth
     destination catacombsSouthWest
     details     "The catacombs extend to the west\n"
     textGo      "You head west through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsSouthWestToSouth
     description "more catacombs to the east"
     tags        "east", "catacombs east"
     location    catacombsSouthWest
     destination catacombsSouth
     details     "The catacombs extend to the east"
     textGo      "You head east through the catacombs\n"
     open        isAlreadyOpen  

- catacombsNorthWest
     description "A web of deep tunnels filled with resting places for the dead"
     tags        "catacombsNorthWest"
     details     "The is space for more bodies here. Something smells like fresh blood\n"

- intoCatacombsNorthWestFromNorth
     description "more catacombs to the west"
     tags        "north", "catacombs north"
     location    catacombsNorth
     destination catacombsNorthWest
     details     "The catacombs extend to the north\n"
     textGo      "You head west through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsNorthWestToNorth
     description "more catacombs to the east"
     tags        "east", "catacombs east"
     location    catacombsNorthWest
     destination catacombsNorth
     details     "The catacombs extend to the east"
     textGo      "You head east through the catacombs\n"
     open        isAlreadyOpen  

- catacombsWest
     description "A web of deep tunnels filled with resting places for the dead"
     tags        "catacombsWest"
     details     "The is space for more bodies here. This place doesn't feel safe\n"

- intoCatacombsWestFromNorthWest
     description "more catacombs to the south"
     tags        "south", "catacombs south"
     location    catacombsNorthWest
     destination catacombsWest
     details     "The catacombs extend to the south\n"
     textGo      "You head south through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsWestToNorthWest
     description "more catacombs to the north"
     tags        "north", "catacombs north"
     location    catacombsWest
     destination catacombsNorthWest
     details     "The catacombs extend to the north"
     textGo      "You head north through the catacombs\n"
     open        isAlreadyOpen  

- intoCatacombsWestFromSouthWest
     description "more catacombs to the north"
     tags        "north", "catacombs north"
     location    catacombsSouthWest
     destination catacombsWest
     details     "The catacombs extend to the north\n"
     textGo      "You head north through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsWestToSouthWest
     description "more catacombs to the south"
     tags        "south", "catacombs south"
     location    catacombsWest
     destination catacombsSouthWest
     details     "The catacombs extend to the south"
     textGo      "You head south through the catacombs\n"
     open        isAlreadyOpen  

- intoCatacombsCentralFromWest
     description "more catacombs to the east"
     tags        "east", "catacombs east"
     location    catacombsWest
     destination catacombsCentral
     details     "The catacombs extend to the east\n"
     textGo      "You head east through the ancient catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsCentralToWest
     description "more catacombs to the west"
     tags        "west", "catacombs west"
     location    catacombsCentral
     destination catacombsWest
     details     "The catacombs extend to the west"
     textGo      "You head west through the catacombs\n"
     open        isAlreadyOpen  

- exitCatacombsCentralToNorth
     description "more catacombs to the north"
     tags        "north", "catacombs north"
     location    catacombsCentral
     destination catacombsNorth
     details     "The catacombs extend to the north"
     textGo      "You head north through the catacombs\n"
     open        isAlreadyOpen 

- exitCatacombsCentralToSouth
     description "more catacombs to the south"
     tags        "south", "catacombs south"
     location    catacombsCentral
     destination catacombsSouth
     details     "The catacombs extend to the south"
     textGo      "You head south through the catacombs\n"
     open        isAlreadyOpen  

- forbiddenCrypt
     description "A large crypt, possibly for an important person"
     tags        "crypt", "forbidden crypt"
     details     "The stone door has been smashed to pieces\n"

- intoForbiddenCryptFromCatacombsWest
     description "the forbidden crypt to the west"
     tags        "west", "crypt", "forbidden crypt"
     location    catacombsWest
     destination forbiddenCrypt
     details     "The forbidden crypt lie to the east\n"
     textGo      "You head east into the forbidden crupt\n"
     open        isAlreadyOpen  

- exitForbiddenCryptToCatacombsWest
     description "the catacombs lie to the east"
     tags        "east", "catacombs", "catacombs west"
     location    forbiddenCrypt
     destination catacombsWest
     details     "The catacombs extend to the west"
     textGo      "You head west into the catacombs\n"
     open        isAlreadyOpen

- chamberOfRest
     description "A small room, with a bed and chamber put"
     tags        "room", "chamber", "chamber of rest"
     details     "The stone door has been smashed to pieces\n"

- intoChamberOfRestFromCatacombsSouth
     description "the forbidden crypt to the west"
     tags        "south", "chamber"
     location    catacombsSouth
     destination chamberOfRest
     details     "A small chamber lies to the south\n"
     textGo      "You head south into the chamber\n"
     open        isAlreadyOpen  

- exitChamberOfRestToCatacombsSouth
     description "the catacombs lie to the north"
     tags        "north", "catacombs", "catacombs north"
     location    chamberOfRest
     destination catacombsSouth
     details     "The catacombs lie to the north"
     textGo      "You head north into the catacombs\n"
     open        isAlreadyOpen

- sewerEntrance
     description "a hole leading down to some sewers"
     tags        "sewer", "hole", "sewer entrance"
     details     "The room is filled with chains and torture devices\n"

- openGateToSewerEntrance
     description "a small gate, leading to a foul stench, it's open"
     tags        "gate", "door", "sewer gate"
     destination sewerEntrance
     details     "The gate is open.\n"
     textGo      "You walk through the gate into the sewers\n"
     open        isAlreadyOpen
     close       toggleGateToSewerEntrance

- closedGateToSewerEntrance
     description "a small gate, leading to a foul stench, it's closed"
     tags        "gate", "door", "sewer gate"
     location    catacombsNorth
     prospect    sewerEntrance
     details     "The gate is closed.\n"
     textGo      "The gate to the sewers is closed.\n"
     open        toggleGateToSewerEntrance
     close       isAlreadyClosed  

- openGateToCatacombsNorth
     description "a small gate, leading to the catacombs, it's open"
     tags        "gate", "sewer gate", "catatcombs"
     destination catacombsNorth
     details     "The gate is open.\n"
     textGo      "You walk through the gate into the catacombs\n"
     open        isAlreadyOpen
     close       toggleGateToSewerEntrance

- closedGateToCatacombsNorth
     description "a small gate, leading to the catacombs, it's closed"
     tags        "gate", "sewer gate", "catatcombs"
     location    sewerEntrance
     prospect    catacombsNorth
     details     "The gate is closed.\n"
     textGo      "The gate to the sewers is closed.\n"
     open        toggleGateToSewerEntrance
     close       isAlreadyClosed  

- guardRoom
     description "a room for the torturers to rest"
     tags        "guardRoom"
     details     "The room is filled with chains and torture devices\n"

- openDoorToGuardRoom
     description "a iron door with 'guard room' enscribed on it to the south"
     tags        "south", "door", "doorway", "guard room door"
     destination guardRoom
     details     "The door is open.\n"
     textGo      "You walk through the door into the guard room\n"
     open        isAlreadyOpen
     close       toggleGuardRoomDoor

- closedDoorToGuardRoom
     description "a iron door with 'guard room' enscribed on it, it's closed"
     tags        "south", "door", "doorway", "guard room door"
     location    deepCentralVaults
     prospect    guardRoom
     details     "The door is closed.\n"
     textGo      "The door to the guard room is closed.\n"
     open        toggleGuardRoomDoor
     close       isAlreadyClosed

- openDoorToDeepVaults
     description "a iron door with 'To Vaults' enscribed on it"
     tags        "north", "door", "doorway", "vault door"
     destination deepCentralVaults
     details     "The door is open.\n"
     textGo      "You walk through the door into the guard room\n"
     open        isAlreadyOpen
     close       toggleGuardRoomDoor

- closedDoorToDeepVaults
     description "a iron door with 'To Vaults' enscribed on it, it's closed"
     tags        "north", "door", "doorway", "vault door"
     location    guardRoom
     prospect    deepCentralVaults
     details     "The door is closed.\n"
     textGo      "The door to the deep vaults is closed.\n"
     open        toggleGuardRoomDoor
     close       isAlreadyClosed

- wardensOffice
     description "the Warden's office"
     tags        "office", "wardens office"
     details     "The Warden must manage the operations from here. What were they trying to do?\n"

- intoWardensOffice
     description "a wardens office to the south"
     tags        "south", "office", "wardens office"
     location    guardRoom
     destination wardensOffice
     details     "The room has an ornate desk with a locked box on top\n"
     textGo      "You head south into the warden's office\n"
     open        isAlreadyOpen  

- exitWardenOffice
     description "the deep vaults are to the south"
     tags        "north", "guard room"
     location    wardensOffice
     destination guardRoom
     details     "The guard room is just north of here\n"
     textGo      "You walk into the guard room \n"
     open        isAlreadyOpen  

- chamberAnteroom
     description "a small anteroom to the south of the chamber"
     tags        "chamberAnteroom", "anteroom"
     details     "The anteroom the backs onto the chamber \n"

- intoChamberAnteroom
     condition   { return skeletonGuard -> health <= 0; }
     description "an small anteroom to the south"
     tags        "south", "anteroom", "chamberAnteroom"
     location    chamber
     destination chamberAnteroom
     details     "The anteroom is covered in dust"
     textGo      "You walk into the chamber's anteroom \n"
     open        isAlreadyOpen  

- intoChamberAnteroomBlocked
     condition   { return skeletonGuard -> health > 0; }
     description "an small anteroom to the south"
     tags        "south", "anteroom", "chamberAnteroom"
     location    chamber
     prospect    chamberAnteroom
     details     "The anteroom is covered in dust"
     textGo      "You cannot get past the skeleton guard \n"
     open        isAlreadyOpen  

- exitChamberAnteroom
     description "a large chamber to the north"
     tags        "north", "exit", "leave", "exit anteroom"
     location    chamberAnteroom
     destination chamber
     details     "There is a large entrance to the chamber\n"
     textGo      "You exit anteroom into the chamber\n"
     open        isAlreadyOpen 

- library
     description "a creepy looking libary room"
     tags        "chamberAnteroom", "anteroom"
     details     "The books in this library look strange, it's unusually cold in here \n"

- openDoorToLibrary
     description "an ornate wooden door to the east. It's open"
     tags        "east", "door", "doorway", "library door"
     destination library
     details     "The door is open.\n"
     textGo      "You walk through the door into the library.\n"
     open        isAlreadyOpen
     close       toggleBackdoor

- closedDoorToLibrary
     description "an ornate wooden door to the east. It's closed"
     tags        "east", "door", "doorway", "library door"
     location    chamberAnteroom
     prospect    library
     details     "The door is closed.\n"
     textGo      "The door is closed.\n"
     open        toggleLibaryDoor
     close       isAlreadyClosed

- openDoorToAnteroom
     description "an ornate wooden door to the west leading to the chamber anteroom. It's open"
     tags        "west", "door", "doorway", "library door"
     destination chamberAnteroom
     details     "The door is open.\n"
     textGo      "You walk through the door into the chamber anteroom\n"
     open        isAlreadyOpen
     close       toggleLibaryDoor

- closedDoorToAnteroom
     description "An ornate wooden door to the west leading to the chamber anteroom. It's open"
     tags        "west", "door", "doorway"
     location    library
     prospect    chamberAnteroom
     details     "The door is closed.\n"
     textGo      "The door is closed.\n"
     open        toggleLibaryDoor
     close       isAlreadyClosed

- openDoorToBackroom
     description "an open door to the south"
     tags        "south", "door", "doorway"
     destination backroom
     details     "The door is open.\n"
     textGo      "You walk through the door into the backroom.\n"
     open        isAlreadyOpen
     close       toggleLibaryDoor

- closedDoorToBackroom
     description "a closed door to the south"
     tags        "south", "door", "doorway"
     location    cave
     prospect    backroom
     details     "The door is closed.\n"
     textGo      "The door is closed.\n"
     open        toggleBackdoor
     close       isAlreadyClosed

- openDoorToCave
     description "an open door to the north"
     tags        "north", "door", "doorway"
     destination cave
     details     "The door is open.\n"
     textGo      "You walk through the door into the cave.\n"
     open        isAlreadyOpen
     close       toggleBackdoor

- closedDoorToCave
     description "a closed door to the north"
     tags        "north", "door", "doorway"
     location    backroom
     prospect    cave
     details     "The door is closed.\n"
     textGo      "The door is closed.\n"
     open        toggleBackdoor
     close       isAlreadyClosed

- openBox
     description "a wooden box"
     tags        "box", "wooden box"
     details     "The box is open.\n"
     weight      5
     capacity    10
     open        isAlreadyOpen
     close       toggleBox
     lock        isStillOpen
     unlock      isAlreadyOpen

- closedBox
     description "a wooden box"
     tags        "box", "wooden box"
     details     "The box is closed.\n"
     weight      5
     open        toggleBox
     close       isAlreadyClosed
     lock        toggleBoxLock
     unlock      isAlreadyUnlocked

- lockedBox
     description "a wooden box"
     tags        "box", "wooden box"
     location    backroom
     details     "The box is closed.\n"
     weight      5
     open        isStillLocked
     close       isAlreadyClosed
     lock        isAlreadyLocked
     unlock      toggleBoxLock

- openIronChest
     description "an open iron chest"
     tags        "chest", "iron chest"
     details     "The chest is locked.\n"
     weight      5
     capacity    10
     open        isAlreadyOpen
     close       toggleIronChest
     lock        isStillOpen
     unlock      isAlreadyOpen

- closedIronChest
     description "a closed iron chest"
     tags        "chest", "iron chest"
     details     "The chest is closed.\n"
     weight      5
     open        toggleIronChest
     close       isAlreadyClosed
     lock        toggleIronChestLock
     unlock      isAlreadyUnlocked

- lockedIronChest
     description "a locked iron chest"
     tags        "chest", "iron chest"
     location    wardensOffice
     details     "The chest is locked.\n"
     weight      5
     open        isStillLocked
     close       isAlreadyClosed
     lock        isAlreadyLocked
     unlock      toggleIronChestLock

- keyForIronChest
     description "a bloody iron key"
     tags        "key", "bloody key", "iron key"
     location    openStitchedCorpse
     details     "The key has been taken from inside a corpse.\n"
     weight      1

- keyForBox
     description "a tiny key"
     tags        "key", "tiny key"
     location    cave
     details     "The key is really small and shiny.\n"
     weight      1

- keyForSewerGate
     description "a small key"
     tags        "key", "small key"
     location    forbiddenCrypt
     details     "The key looks like it was dropped accidently \n"
     weight      1

- torch
     description "an unlit torch"
     tags        "torch", "unlit torch"
     location    centralVaults
     details     "The torch is unlit. Maybe I can find a way to light it up"
     weight      1
     lit         1

- cauldron
     description "a bubbling cauldron"
     tags        "cauldron", "bubbling cauldron"
     location    witchesLair
     details     "The cauldron is bubbling with a fire underneath"
     weight      999

- closedStitchedCorpse
     description "a corpse with it's chest recently stitched together"
     tags        "corpse", "stiched corpse", "body"
     location    bodyPit
     details     "The corpse appears to have had it's chest stiched back together recently. \n This is a fresh body\n"
     weight      999
     open        toggleCorpse
     close       isAlreadyClosed

- openStitchedCorpse
     description "a corpse with it's chest ripped open"
     tags        "corpse", "stiched corpse", "body"
     details     "You've ripped open the chest of the corpse revealing the insides\n"
     weight      999
     open        isAlreadyOpen
     close       toggleCorpse

- bookArsGoetia
     description "the ars goetia, a grimoire book on demonology"
     tags        "book", "demon book", "grimoire", "ars goetia"
     location    library
     details     "This book appears to be grimoire.  \n"
     weight      1

- bookArsTheurgiaGoetia
     description "the ars theurgia goetia, a grimoire book on demonology"
     tags        "book", "demon book", "grimoire", "ars theurgia goetia"
     location    openIronChest
     details     "This is another grimoire on demons\n"
     weight      1
